<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Flock, Stock and Draw</title>
<link rel="icon" type="image/png" href="Kingfisher.png">
<style>
  body {
    margin: 0;
    background: radial-gradient(ellipse at center, #1b2a2f 0%, #0a0f10 100%);
    font-family: 'Poppins', sans-serif;
    color: #fff;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  h1 {
    margin-top: 20px;
    font-size: 1.8em;
    letter-spacing: 2px;
  }

  /* Binoculars viewport */
  .binoculars {
    position: relative;
    width: 500px;
    height: 250px;
    border-radius: 125px / 60px;
    background: radial-gradient(circle at center, #111 0%, #000 80%);
    overflow: hidden;
    margin: 30px 0;
    box-shadow: 0 0 40px #000 inset, 0 0 10px #0f0f0f;
  }

  /* Bird cards flying past */
  .bird-card {
    position: absolute;
    width: 200px;
    height: 120px;
    background: #eee;
    border-radius: 10px;
    top: 65px;
    left: 150%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    transition: transform 0.3s;
  }

  /* Collapsible journal */
  #journal {
    background: rgba(255,255,255,0.1);
    width: 300px;
    padding: 10px;
    border-radius: 8px;
    text-align: left;
    max-height: 300px;
    overflow-y: auto;
    transition: 0.3s ease;
  }

  #journal.collapsed {
    max-height: 0;
    padding: 0;
    overflow: hidden;
  }

  button {
    background: #3a5f4b;
    border: none;
    color: #fff;
    padding: 8px 14px;
    margin: 6px;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
  }

  button:hover {
    background: #4e7a61;
  }
</style>
</head>
<body>
<h1>Flock, Stock and Draw</h1>

<div class="binoculars" id="binoculars">
  <div class="bird-card" id="birdCard"></div>
</div>

<div>
  <button id="spinBtn">Spot a Bird</button>
  <button id="toggleJournal">Toggle Journal</button>
  <button id="resetJournal">Reset Journal</button>
</div>

<!-- Region Filter Buttons -->
<div id="filters">
  <button class="filter-btn" data-region="All">All</button>
  <button class="filter-btn" data-region="Europe">Europe</button>
  <button class="filter-btn" data-region="North America">North America</button>
  <button class="filter-btn" data-region="Asia">Asia</button>
  <button class="filter-btn" data-region="Oceania">Oceania</button>
</div>

<div id="journal" class="collapsed">
  <h3>Bird Journal</h3>
  <ul id="journalList"></ul>
</div>

<script>
const birds = [
  // 🇪🇺 European Birds
  { name: "European Robin", region: "Europe", colour: "#e07127", habitat: "woodland" },
  { name: "Eurasian Blue Tit", region: "Europe", colour: "#2a5bd7", habitat: "gardens" },
  { name: "Great Tit", region: "Europe", colour: "#f6d81b", habitat: "woodland" },
  { name: "Blackbird", region: "Europe", colour: "#1c1c1c", habitat: "gardens" },
  { name: "Chaffinch", region: "Europe", colour: "#b9805a", habitat: "woodland" },
  { name: "European Goldfinch", region: "Europe", colour: "#d4af37", habitat: "gardens" },
  { name: "Eurasian Wren", region: "Europe", colour: "#7a5230", habitat: "hedgerows" },
  { name: "Magpie", region: "Europe", colour: "#0f0f0f", habitat: "urban" },
  { name: "Jay", region: "Europe", colour: "#8c6348", habitat: "woodland" },
  { name: "Common Kingfisher", region: "Europe", colour: "#0d9dd9", habitat: "rivers" },
  { name: "Barn Owl", region: "Europe", colour: "#f5f0dc", habitat: "farmland" },
  { name: "Eurasian Nuthatch", region: "Europe", colour: "#7f97a1", habitat: "woodland" },
  { name: "Song Thrush", region: "Europe", colour: "#8b6d47", habitat: "gardens" },
  { name: "Starling", region: "Europe", colour: "#3d3c53", habitat: "urban" },
  { name: "Wood Pigeon", region: "Europe", colour: "#9ca2a8", habitat: "urban" },
  { name: "Carrion Crow", region: "Europe", colour: "#1a1a1a", habitat: "farmland" },
  { name: "House Sparrow", region: "Europe", colour: "#9c8772", habitat: "urban" },
  { name: "Pied Wagtail", region: "Europe", colour: "#e6e6e6", habitat: "rivers" },
  { name: "European Green Woodpecker", region: "Europe", colour: "#9cc43c", habitat: "woodland" },
  { name: "Eurasian Bullfinch", region: "Europe", colour: "#d36b6b", habitat: "woodland" },
  { name: "Long-tailed Tit", region: "Europe", colour: "#fafafa", habitat: "woodland" },
  { name: "Eurasian Treecreeper", region: "Europe", colour: "#bfa88a", habitat: "woodland" },
  { name: "Mistle Thrush", region: "Europe", colour: "#7c6a57", habitat: "woodland" },
  { name: "Goldcrest", region: "Europe", colour: "#d6b40b", habitat: "coniferous forest" },
  { name: "Eurasian Blackcap", region: "Europe", colour: "#73777a", habitat: "shrubs" },
  { name: "Rook", region: "Europe", colour: "#0d0d0d", habitat: "farmland" },
  { name: "Jackdaw", region: "Europe", colour: "#414141", habitat: "urban" },
  { name: "Greenfinch", region: "Europe", colour: "#8cbf4a", habitat: "gardens" },
  { name: "Redwing", region: "Europe", colour: "#8a4a2f", habitat: "woodland" },
  { name: "Fieldfare", region: "Europe", colour: "#8c8170", habitat: "open fields" },
  { name: "Grey Heron", region: "Europe", colour: "#aeb4b9", habitat: "wetlands" },
  { name: "Mute Swan", region: "Europe", colour: "#ffffff", habitat: "lakes" },
  { name: "Eurasian Coot", region: "Europe", colour: "#1c1c1c", habitat: "lakes" },
  { name: "Mallard", region: "Europe", colour: "#2f6d3c", habitat: "ponds" },
  { name: "Common Swift", region: "Europe", colour: "#5c5c5c", habitat: "urban" },
  { name: "Swallow", region: "Europe", colour: "#1f3a93", habitat: "farmland" },
  { name: "House Martin", region: "Europe", colour: "#2b3b57", habitat: "urban" },
  { name: "Eurasian Sparrowhawk", region: "Europe", colour: "#767676", habitat: "woodland" },
  { name: "Tawny Owl", region: "Europe", colour: "#8b6446", habitat: "woodland" },
  { name: "Common Buzzard", region: "Europe", colour: "#9b7d5a", habitat: "farmland" },
  { name: "Little Owl", region: "Europe", colour: "#c8b284", habitat: "farmland" },
  { name: "Common Chiffchaff", region: "Europe", colour: "#d6d0a3", habitat: "woodland" },
  { name: "Common Kingfisher", region: "Europe", colour: "#1d9edd", habitat: "rivers" },
  { name: "Bearded Tit", region: "Europe", colour: "#e5b66d", habitat: "reed beds" },
  { name: "Common Cuckoo", region: "Europe", colour: "#9b8c73", habitat: "woodland" },
  { name: "Common Redstart", region: "Europe", colour: "#f07a3d", habitat: "woodland" },

  // 🇺🇸 North American Birds
  { name: "Northern Cardinal", region: "North America", colour: "#c41e3a", habitat: "gardens" },
  { name: "Blue Jay", region: "North America", colour: "#4a7ed1", habitat: "woodland" },
  { name: "American Robin", region: "North America", colour: "#d87b3f", habitat: "gardens" },
  { name: "Black-capped Chickadee", region: "North America", colour: "#efefef", habitat: "forest" },
  { name: "American Goldfinch", region: "North America", colour: "#ffe23a", habitat: "meadows" },
  { name: "Downy Woodpecker", region: "North America", colour: "#f1f1f1", habitat: "woodland" },
  { name: "Red-winged Blackbird", region: "North America", colour: "#c03221", habitat: "marsh" },
  { name: "Baltimore Oriole", region: "North America", colour: "#f47a1f", habitat: "forest edge" },
  { name: "Eastern Bluebird", region: "North America", colour: "#3684f1", habitat: "grasslands" },
  { name: "Tufted Titmouse", region: "North America", colour: "#bcbcc2", habitat: "woodland" },
  { name: "Mourning Dove", region: "North America", colour: "#b8a892", habitat: "urban" },
  { name: "Northern Flicker", region: "North America", colour: "#d0a46b", habitat: "woodland" },
  { name: "American Crow", region: "North America", colour: "#101010", habitat: "urban" },
  { name: "Carolina Wren", region: "North America", colour: "#9d6437", habitat: "shrubland" },
  { name: "White-breasted Nuthatch", region: "North America", colour: "#d9d9d9", habitat: "forest" },
  { name: "Tree Swallow", region: "North America", colour: "#276ed0", habitat: "wetlands" },
  { name: "Cedar Waxwing", region: "North America", colour: "#bfa875", habitat: "orchards" },
  { name: "Red-tailed Hawk", region: "North America", colour: "#8c5335", habitat: "open country" },
  { name: "Great Horned Owl", region: "North America", colour: "#7d624b", habitat: "forest" },
  { name: "American Kestrel", region: "North America", colour: "#b36d3f", habitat: "open country" },
  { name: "Pileated Woodpecker", region: "North America", colour: "#d02a2a", habitat: "forest" },
  { name: "House Finch", region: "North America", colour: "#d45a5a", habitat: "urban" },
  { name: "Song Sparrow", region: "North America", colour: "#8b5c3b", habitat: "grasslands" },
  { name: "Dark-eyed Junco", region: "North America", colour: "#595959", habitat: "forest" },
  { name: "Northern Mockingbird", region: "North America", colour: "#b8b8b8", habitat: "urban" },
  { name: "Eastern Meadowlark", region: "North America", colour: "#f2c500", habitat: "grasslands" },
  { name: "Common Grackle", region: "North America", colour: "#3b2c77", habitat: "urban" },
  { name: "Killdeer", region: "North America", colour: "#c7bfa5", habitat: "wetlands" },
  { name: "Bald Eagle", region: "North America", colour: "#835c3b", habitat: "lakes" },
  { name: "Peregrine Falcon", region: "North America", colour: "#6e7b89", habitat: "cliffs" },
  { name: "Snowy Owl", region: "North America", colour: "#ffffff", habitat: "tundra" },
  { name: "Great Blue Heron", region: "North America", colour: "#7b8fa2", habitat: "wetlands" },
  { name: "Canada Goose", region: "North America", colour: "#5c4b3b", habitat: "lakes" },
  { name: "Wood Duck", region: "North America", colour: "#38613a", habitat: "ponds" },
  { name: "Mallard", region: "North America", colour: "#2d6830", habitat: "ponds" },
  { name: "Osprey", region: "North America", colour: "#8c816b", habitat: "coast" },
  { name: "Brown Pelican", region: "North America", colour: "#a6927a", habitat: "coast" },
  { name: "Sandhill Crane", region: "North America", colour: "#a8a8a8", habitat: "wetlands" },
  { name: "Northern Harrier", region: "North America", colour: "#9c8a6d", habitat: "grasslands" },
  { name: "American Bittern", region: "North America", colour: "#b38a4c", habitat: "marsh" },
  { name: "Eastern Kingbird", region: "North America", colour: "#1f1f1f", habitat: "fields" },
  { name: "Rose-breasted Grosbeak", region: "North America", colour: "#d1395e", habitat: "woodland" },
  { name: "Indigo Bunting", region: "North America", colour: "#4b3cc7", habitat: "woodland" },
  { name: "Scarlet Tanager", region: "North America", colour: "#e02020", habitat: "forest" },
  { name: "Baltimore Oriole", region: "North America", colour: "#f47a1f", habitat: "forest edge" },

  // 🦘 Oceania Birds
  { name: "Rainbow Lorikeet", region: "Oceania", colour: "#2b8c3a", habitat: "urban" },
  { name: "Superb Fairywren", region: "Oceania", colour: "#3a6ff2", habitat: "shrubs" },
  { name: "Kookaburra", region: "Oceania", colour: "#b89c72", habitat: "woodland" },
  { name: "Galah", region: "Oceania", colour: "#e88cae", habitat: "grasslands" },
  { name: "Sulphur-crested Cockatoo", region: "Oceania", colour: "#ffffcc", habitat: "urban" },
  { name: "Australian Magpie", region: "Oceania", colour: "#1c1c1c", habitat: "open fields" },
  { name: "Emu", region: "Oceania", colour: "#7a6a58", habitat: "scrubland" },
  { name: "Laughing Kookaburra", region: "Oceania", colour: "#cab895", habitat: "woodland" },
  { name: "Little Penguin", region: "Oceania", colour: "#4b6fa7", habitat: "coast" },
  { name: "Eastern Rosella", region: "Oceania", colour: "#e24444", habitat: "woodland" },
  { name: "Tui", region: "Oceania", colour: "#223040", habitat: "forest" },
  { name: "Kea", region: "Oceania", colour: "#647c2e", habitat: "alpine forest" },
  { name: "Fantail", region: "Oceania", colour: "#8c6e4f", habitat: "woodland" },
  { name: "New Zealand Kākā", region: "Oceania", colour: "#a05a32", habitat: "forest" },
  { name: "Weka", region: "Oceania", colour: "#7a5135", habitat: "coastal scrub" },
  { name: "Bellbird", region: "Oceania", colour: "#8da963", habitat: "forest" },
  { name: "Yellow-eyed Penguin", region: "Oceania", colour: "#d9c97d", habitat: "coast" },
  { name: "Kākāpō", region: "Oceania", colour: "#91b35e", habitat: "forest" },
  { name: "Morepork", region: "Oceania", colour: "#715b45", habitat: "forest" },
  { name: "Black Swan", region: "Oceania", colour: "#111111", habitat: "lakes" },

  // 🌏 Asian Birds
  { name: "Oriental Magpie Robin", region: "Asia", colour: "#2f2f2f", habitat: "urban" },
  { name: "Indian Peafowl", region: "Asia", colour: "#2e56c2", habitat: "forest" },
  { name: "Eurasian Hoopoe", region: "Asia", colour: "#d69841", habitat: "grasslands" },
  { name: "White-throated Kingfisher", region: "Asia", colour: "#2f9ac9", habitat: "wetlands" },
  { name: "Great Hornbill", region: "Asia", colour: "#f4ca41", habitat: "forest" },
  { name: "Asian Koel", region: "Asia", colour: "#131313", habitat: "urban" },
  { name: "Red-whiskered Bulbul", region: "Asia", colour: "#b64848", habitat: "gardens" },
  { name: "House Crow", region: "Asia", colour: "#444444", habitat: "urban" },
  { name: "Coppersmith Barbet", region: "Asia", colour: "#86c150", habitat: "woodland" },
  { name: "Black Drongo", region: "Asia", colour: "#1b1b1b", habitat: "fields" },
  { name: "Indian Roller", region: "Asia", colour: "#4794e6", habitat: "open fields" },
  { name: "Rose-ringed Parakeet", region: "Asia", colour: "#77b84c", habitat: "urban" },
  { name: "Common Myna", region: "Asia", colour: "#7a613b", habitat: "urban" },
  { name: "Purple Sunbird", region: "Asia", colour: "#382b91", habitat: "gardens" },
  { name: "Asian Paradise Flycatcher", region: "Asia", colour: "#f1f1f1", habitat: "forest" },
  { name: "Greater Coucal", region: "Asia", colour: "#8c3929", habitat: "scrubland" },
  { name: "Indian Pond Heron", region: "Asia", colour: "#c1b08f", habitat: "wetlands" },
  { name: "Little Egret", region: "Asia", colour: "#ffffff", habitat: "wetlands" },
  { name: "Eurasian Tree Sparrow", region: "Asia", colour: "#957d5f", habitat: "urban" },
  { name: "Spotted Dove", region: "Asia", colour: "#b2a092", habitat: "urban" },
];

const birdCard = document.getElementById('birdCard');
const journal = document.getElementById('journal');
const journalList = document.getElementById('journalList');
const toggleJournal = document.getElementById('toggleJournal');
const resetJournal = document.getElementById('resetJournal');

// 🕊️ Region Filter Setup
let currentRegion = localStorage.getItem('currentRegion') || "All";
const filterButtons = document.querySelectorAll('.filter-btn');
filterButtons.forEach(btn => {
  if (btn.dataset.region === currentRegion) {
    btn.style.background = '#4e7a61';
  }
  btn.addEventListener('click', () => {
    currentRegion = btn.dataset.region;
    localStorage.setItem('currentRegion', currentRegion);
    filterButtons.forEach(b => b.style.background = '#3a5f4b');
    btn.style.background = '#4e7a61';
  });
});

function spinBirds() {
  const filteredBirds = currentRegion === "All"
    ? birds
    : birds.filter(b => b.region === currentRegion);

  if (filteredBirds.length === 0) {
    alert(`No birds found for ${currentRegion}!`);
    return;
  }

  const randomBird = filteredBirds[Math.floor(Math.random() * filteredBirds.length)];

  birdCard.style.background = randomBird.colour;
  birdCard.textContent = randomBird.name;
  birdCard.style.left = '-250px';

  const anim = birdCard.animate([
    { transform: 'translateX(600px)' },
    { transform: 'translateX(-600px)' }
  ], {
    duration: 2000,
    iterations: 1
  });

  anim.onfinish = () => {
    birdCard.textContent = randomBird.name;
    addToJournal(randomBird);
  };
}

function addToJournal(bird) {
  const li = document.createElement('li');
  li.textContent = `${bird.name} (${bird.region})`;
  journalList.appendChild(li);
  saveJournal();
}

function saveJournal() {
  const entries = [];
  journalList.querySelectorAll('li').forEach(li => entries.push(li.textContent));
  localStorage.setItem('birdJournal', JSON.stringify(entries));
}

function loadJournal() {
  const entries = JSON.parse(localStorage.getItem('birdJournal') || '[]');
  journalList.innerHTML = '';
  entries.forEach(e => {
    const li = document.createElement('li');
    li.textContent = e;
    journalList.appendChild(li);
  });
}

document.getElementById('spinBtn').addEventListener('click', spinBirds);
toggleJournal.addEventListener('click', () => journal.classList.toggle('collapsed'));
resetJournal.addEventListener('click', () => {
  if (confirm('Reset journal?')) {
    localStorage.removeItem('birdJournal');
    journalList.innerHTML = '';
  }
});

loadJournal();
</script>
</body>
</html>
